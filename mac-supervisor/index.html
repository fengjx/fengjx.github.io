<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>
        macä¸‹ä½¿ç”¨supervisor - å†¯å°å°ï¼Œä¸€ä¸ªå¼€å‘è€…
      </title>
    <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  
  <meta name="theme-color" content="#000000" />
  
  <meta http-equiv="window-target" content="_top" />
  
  
  <meta name="description" content="macä¸‹ä½¿ç”¨supervisor å®‰è£… ä½¿ç”¨brewè¿›è¡Œ å®‰è£… $ brew install supervisor ==&amp;gt; Downloading http://7xkcej.dl1.z0.glb.clouddn.com/bottles/supervisor-3.3.1.sierra.bottle.tar.gz ######################################################################## 100.0% ==&amp;gt; Pouring supervisor-3.3.1.sierra.bottle.tar.gz ==&amp;gt; Using the sandbox ==&amp;gt; Caveats To have launchd start supervisor now and restart at login: brew services start supervisor Or, if you don&amp;#39;t want/need a background service you can" />
  <meta name="generator" content="Hugo 0.65.3 with theme pure" />
  <title>macä¸‹ä½¿ç”¨supervisor - å†¯å°å°ï¼Œä¸€ä¸ªå¼€å‘è€…</title>
  

  <link rel="stylesheet" href="https://blog.fengjx.com/css/style.css">
  <link rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/9.15.10/styles/github.min.css"> 
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
  <meta property="og:title" content="macä¸‹ä½¿ç”¨supervisor" />
<meta property="og:description" content="macä¸‹ä½¿ç”¨supervisor å®‰è£… ä½¿ç”¨brewè¿›è¡Œ å®‰è£… $ brew install supervisor ==&gt; Downloading http://7xkcej.dl1.z0.glb.clouddn.com/bottles/supervisor-3.3.1.sierra.bottle.tar.gz ######################################################################## 100.0% ==&gt; Pouring supervisor-3.3.1.sierra.bottle.tar.gz ==&gt; Using the sandbox ==&gt; Caveats To have launchd start supervisor now and restart at login: brew services start supervisor Or, if you don&#39;t want/need a background service you can" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.fengjx.com/mac-supervisor/" />
<meta property="article:published_time" content="2018-06-10T00:00:00+00:00" />
<meta property="article:modified_time" content="2018-06-10T00:00:00+00:00" />
<meta itemprop="name" content="macä¸‹ä½¿ç”¨supervisor">
<meta itemprop="description" content="macä¸‹ä½¿ç”¨supervisor å®‰è£… ä½¿ç”¨brewè¿›è¡Œ å®‰è£… $ brew install supervisor ==&gt; Downloading http://7xkcej.dl1.z0.glb.clouddn.com/bottles/supervisor-3.3.1.sierra.bottle.tar.gz ######################################################################## 100.0% ==&gt; Pouring supervisor-3.3.1.sierra.bottle.tar.gz ==&gt; Using the sandbox ==&gt; Caveats To have launchd start supervisor now and restart at login: brew services start supervisor Or, if you don&#39;t want/need a background service you can">
<meta itemprop="datePublished" content="2018-06-10T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2018-06-10T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="6927">



<meta itemprop="keywords" content="supervisor," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="macä¸‹ä½¿ç”¨supervisor"/>
<meta name="twitter:description" content="macä¸‹ä½¿ç”¨supervisor å®‰è£… ä½¿ç”¨brewè¿›è¡Œ å®‰è£… $ brew install supervisor ==&gt; Downloading http://7xkcej.dl1.z0.glb.clouddn.com/bottles/supervisor-3.3.1.sierra.bottle.tar.gz ######################################################################## 100.0% ==&gt; Pouring supervisor-3.3.1.sierra.bottle.tar.gz ==&gt; Using the sandbox ==&gt; Caveats To have launchd start supervisor now and restart at login: brew services start supervisor Or, if you don&#39;t want/need a background service you can"/>

  <!--[if lte IE 9]>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
    <![endif]-->

  <!--[if lt IE 9]>
      <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
    <![endif]-->

</head>
  </head>
  <body class="main-center" itemscope itemtype="http://schema.org/WebPage"><header class="header" itemscope itemtype="http://schema.org/WPHeader">
    <div class="slimContent">
      <div class="navbar-header">
        <div class="profile-block text-center">
          <a id="avatar" href="https://github.com/fengjx" target="_blank">
            <img class="img-circle img-rotate" src="https://blog.fengjx.com/4881720.jpg" width="200" height="200">
          </a>
          <h2 id="name" class="hidden-xs hidden-sm">å†¯å°å°ï¼Œä¸€ä¸ªå¼€å‘è€…</h2>
          <h3 id="title" class="hidden-xs hidden-sm hidden-md"></h3>
          <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i>GuangZhou, China</small>
        </div><div class="search" id="search-form-wrap">
    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="æœç´¢" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i
                        class="icon icon-search"></i></button>
            </span>
        </div>
        <div class="ins-search">
            <div class="ins-search-mask"></div>
            <div class="ins-search-container">
                <div class="ins-input-wrapper">
                    <input type="text" class="ins-search-input" placeholder="æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ..."
                        x-webkit-speech />
                    <button type="button" class="close ins-close ins-selectable" data-dismiss="modal"
                        aria-label="Close"><span aria-hidden="true">Ã—</span></button>
                </div>
                <div class="ins-section-wrapper">
                    <div class="ins-section-container"></div>
                </div>
            </div>
        </div>
    </form>
</div>
        <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
      </div>
      <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
        <ul class="nav navbar-nav main-nav">
            <li class="menu-item menu-item-home">
                <a href="/">
                    <i class="icon icon-home-fill"></i>
                  <span class="menu-title">é¦–é¡µ</span>
                </a>
            </li>
            <li class="menu-item menu-item-categories">
                <a href="/categories">
                    <i class="icon icon-folder"></i>
                  <span class="menu-title">åˆ†ç±»</span>
                </a>
            </li>
            <li class="menu-item menu-item-tags">
                <a href="/tags">
                    <i class="icon icon-tags"></i>
                  <span class="menu-title">æ ‡ç­¾</span>
                </a>
            </li>
            <li class="menu-item menu-item-post">
                <a href="/posts">
                    <i class="icon icon-list"></i>
                  <span class="menu-title">å…¶ä»–</span>
                </a>
            </li>
            <li class="menu-item menu-item-links">
                <a href="/links">
                    <i class="icon icon-friendship"></i>
                  <span class="menu-title">å‹é“¾</span>
                </a>
            </li>
            <li class="menu-item menu-item-about">
                <a href="/about">
                    <i class="icon icon-cup-fill"></i>
                  <span class="menu-title">å…³äº</span>
                </a>
            </li>
        </ul>
      </nav>
    </div>
  </header>
  <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">å…¬å‘Š</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content"><p>hello developer</p>
            </div>
        </div>
    </div>
</div>

      <div class="widget">
    <h3 class="widget-title"> åˆ†ç±»</h3>
    <div class="widget-body">
        <ul class="category-list">
            <li class="category-list-item"><a href="https://blog.fengjx.com/categories/java/" class="category-list-link">java</a><span class="category-list-count">13</span></li>
            <li class="category-list-item"><a href="https://blog.fengjx.com/categories/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" class="category-list-link">linuxå¸¸ç”¨å‘½ä»¤</a><span class="category-list-count">1</span></li>
            <li class="category-list-item"><a href="https://blog.fengjx.com/categories/mysql/" class="category-list-link">mysql</a><span class="category-list-count">3</span></li>
            <li class="category-list-item"><a href="https://blog.fengjx.com/categories/tools/" class="category-list-link">tools</a><span class="category-list-count">1</span></li>
            <li class="category-list-item"><a href="https://blog.fengjx.com/categories/zookeeper/" class="category-list-link">zookeeper</a><span class="category-list-count">2</span></li>
            <li class="category-list-item"><a href="https://blog.fengjx.com/categories/%E5%85%B6%E4%BB%96/" class="category-list-link">å…¶ä»–</a><span class="category-list-count">1</span></li>
            <li class="category-list-item"><a href="https://blog.fengjx.com/categories/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" class="category-list-link">å¾®æœåŠ¡</a><span class="category-list-count">1</span></li>
        </ul>
    </div>
</div>
      <div class="widget">
    <h3 class="widget-title"> æ ‡ç­¾</h3>
    <div class="widget-body">
        <ul class="tag-list">
            
            
            <li class="tag-list-item"><a href="https://blog.fengjx.com/tags/curl/" class="tag-list-link">curl</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://blog.fengjx.com/tags/docker/" class="tag-list-link">docker</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://blog.fengjx.com/tags/eclipse/" class="tag-list-link">eclipse</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://blog.fengjx.com/tags/ffmpeg/" class="tag-list-link">ffmpeg</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://blog.fengjx.com/tags/git/" class="tag-list-link">git</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://blog.fengjx.com/tags/google/" class="tag-list-link">google</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://blog.fengjx.com/tags/index/" class="tag-list-link">index</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://blog.fengjx.com/tags/io/" class="tag-list-link">io</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://blog.fengjx.com/tags/java8/" class="tag-list-link">java8</a><span
                    class="tag-list-count">4</span></li>
            
            
            <li class="tag-list-item"><a href="https://blog.fengjx.com/tags/jvm/" class="tag-list-link">jvm</a><span
                    class="tag-list-count">5</span></li>
            
            
            <li class="tag-list-item"><a href="https://blog.fengjx.com/tags/libreoffice/" class="tag-list-link">libreoffice</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://blog.fengjx.com/tags/linux/" class="tag-list-link">linux</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://blog.fengjx.com/tags/mac/" class="tag-list-link">mac</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://blog.fengjx.com/tags/manjaro/" class="tag-list-link">manjaro</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://blog.fengjx.com/tags/mysql/" class="tag-list-link">mysql</a><span
                    class="tag-list-count">4</span></li>
            
            
            <li class="tag-list-item"><a href="https://blog.fengjx.com/tags/netty/" class="tag-list-link">netty</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://blog.fengjx.com/tags/npm/" class="tag-list-link">npm</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://blog.fengjx.com/tags/openresty/" class="tag-list-link">openresty</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://blog.fengjx.com/tags/socket/" class="tag-list-link">socket</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://blog.fengjx.com/tags/supervisor/" class="tag-list-link">supervisor</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://blog.fengjx.com/tags/ububtu/" class="tag-list-link">ububtu</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://blog.fengjx.com/tags/yarn/" class="tag-list-link">yarn</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://blog.fengjx.com/tags/zookeeper/" class="tag-list-link">zookeeper</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://blog.fengjx.com/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" class="tag-list-link">å¤šçº¿ç¨‹</a><span
                    class="tag-list-count">2</span></li>
            
        </ul>

    </div>
</div>
  </div>
</aside>

    
    
  <aside class="sidebar sidebar-toc collapse" id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar">
    <div class="slimContent">
      <nav id="toc" class="article-toc">
        <h3 class="toc-title">æ–‡ç« ç›®å½•</h3>
        <div class="toc-content always-active"><nav id="TableOfContents"></nav>
        </div>
      </nav>
    </div>
  </aside>
<main class="main" role="main"><div class="content">
  <article id="-" class="article article-type-" itemscope
    itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      <h1 itemprop="name">
  <a
    class="article-title"
    href="/mac-supervisor/"
    >macä¸‹ä½¿ç”¨supervisor</a
  >
</h1>

      <div class="article-meta">
        <span class="article-date">
  <i class="icon icon-calendar-check"></i>
<a href="https://blog.fengjx.com/mac-supervisor/" class="article-date">
  <time datetime="2018-06-10 00:00:00 &#43;0000 UTC" itemprop="datePublished">2018-06-10</time>
</a>
</span>  
  <span class="article-tag">
    <i class="icon icon-tags"></i>
    <a class="article-tag-link" href="/tags/supervisor/"> supervisor </a>
  </span>

        <span class="post-comment"><i class="icon icon-comment"></i> <a href="/mac-supervisor/#comments"
            class="article-comment-link">è¯„è®º</a></span>
		<span class="post-wordcount hidden-xs" itemprop="wordCount">å­—æ•°ç»Ÿè®¡:6927å­—</span>
		<span class="post-readcount hidden-xs" itemprop="timeRequired">é˜…è¯»æ—¶é•¿:14åˆ† </span>
      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      <h1 id="macä¸‹ä½¿ç”¨supervisor">macä¸‹ä½¿ç”¨supervisor</h1>
<ol>
<li>å®‰è£…
ä½¿ç”¨brewè¿›è¡Œ å®‰è£…</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ brew install supervisor
<span style="color:#f92672">==</span>&gt; Downloading http://7xkcej.dl1.z0.glb.clouddn.com/bottles/supervisor-3.3.1.sierra.bottle.tar.gz
<span style="color:#75715e">######################################################################## 100.0%</span>
<span style="color:#f92672">==</span>&gt; Pouring supervisor-3.3.1.sierra.bottle.tar.gz
<span style="color:#f92672">==</span>&gt; Using the sandbox
<span style="color:#f92672">==</span>&gt; Caveats
To have launchd start supervisor now and restart at login:
  brew services start supervisor
Or, <span style="color:#66d9ef">if</span> you don<span style="color:#e6db74">&#39;t want/need a background service you can just run:
</span><span style="color:#e6db74">  supervisord -c /usr/local/etc/supervisord.ini
</span><span style="color:#e6db74">==&gt; Summary
</span><span style="color:#e6db74">ğŸº  /usr/local/Cellar/supervisor/3.3.1: 526 files, 6.3MB
</span><span style="color:#e6db74">fengjianxindeMacBook-Pro:worlspaces fengjianxin$ cd /etc/s
</span><span style="color:#e6db74">security/     services      shells        snmp/         ssh/          ssl/          sudo_lecture  sudoers       sudoers.d/    syslog.conf
</span><span style="color:#e6db74">fengjianxindeMacBook-Pro:worlspaces fengjianxin$ vi /usr/local/etc/supervisord.ini
</span><span style="color:#e6db74">fengjianxindeMacBook-Pro:worlspaces fengjianxin$
</span><span style="color:#e6db74">fengjianxindeMacBook-Pro:worlspaces fengjianxin$
</span><span style="color:#e6db74">fengjianxindeMacBook-Pro:worlspaces fengjianxin$
</span><span style="color:#e6db74">fengjianxindeMacBook-Pro:worlspaces fengjianxin$ brew services start supervisor
</span><span style="color:#e6db74">==&gt; Tapping homebrew/services
</span><span style="color:#e6db74">Cloning into &#39;</span>/usr/local/Homebrew/Library/Taps/homebrew/homebrew-services<span style="color:#960050;background-color:#1e0010">&#39;</span>...
remote: Counting objects: 10, <span style="color:#66d9ef">done</span>.
remote: Compressing objects: 100% <span style="color:#f92672">(</span>7/7<span style="color:#f92672">)</span>, <span style="color:#66d9ef">done</span>.
remote: Total <span style="color:#ae81ff">10</span> <span style="color:#f92672">(</span>delta 0<span style="color:#f92672">)</span>, reused <span style="color:#ae81ff">6</span> <span style="color:#f92672">(</span>delta 0<span style="color:#f92672">)</span>, pack-reused <span style="color:#ae81ff">0</span>
Unpacking objects: 100% <span style="color:#f92672">(</span>10/10<span style="color:#f92672">)</span>, <span style="color:#66d9ef">done</span>.
Tapped <span style="color:#ae81ff">0</span> formulae <span style="color:#f92672">(</span><span style="color:#ae81ff">37</span> files, 51KB<span style="color:#f92672">)</span>
<span style="color:#f92672">==</span>&gt; Successfully started <span style="color:#e6db74">`</span>supervisor<span style="color:#e6db74">`</span> <span style="color:#f92672">(</span>label: homebrew.mxcl.supervisor<span style="color:#f92672">)</span>
</code></pre></div><p>vi /Library/LaunchDaemons/homebrew.mxcl.supervisor.plist
å¯ä»¥çœ‹åˆ°ï¼Œå®‰è£…çš„æ—¶å€™å·²ç»é»˜è®¤æ·»åŠ äº†å¼€æœºå¯åŠ¨ï¼ˆrootï¼‰</p>
<ol start="2">
<li>å¼€å¯webç®¡ç†</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">vi /usr/local/etc/supervisord.ini
<span style="color:#75715e"># å°†ä¸‹é¢æ³¨é‡Šå»æ‰</span>
<span style="color:#f92672">[</span>inet_http_server<span style="color:#f92672">]</span>         ; inet <span style="color:#f92672">(</span>TCP<span style="color:#f92672">)</span> server disabled by default
port<span style="color:#f92672">=</span>127.0.0.1:9001        ; <span style="color:#f92672">(</span>ip_address:port specifier, *:port <span style="color:#66d9ef">for</span> all iface<span style="color:#f92672">)</span>
username<span style="color:#f92672">=</span>fengjx              ; <span style="color:#f92672">(</span>default is no username <span style="color:#f92672">(</span>open server<span style="color:#f92672">))</span>
password<span style="color:#f92672">=</span>fengjx1989              ; <span style="color:#f92672">(</span>default is no password <span style="color:#f92672">(</span>open server<span style="color:#f92672">))</span>

<span style="color:#75715e"># é‡å¯æœåŠ¡</span>
$ brew services start supervisor
<span style="color:#f92672">==</span>&gt; Tapping homebrew/services
Cloning into <span style="color:#e6db74">&#39;/usr/local/Homebrew/Library/Taps/homebrew/homebrew-services&#39;</span>...
remote: Counting objects: 10, <span style="color:#66d9ef">done</span>.
remote: Compressing objects: 100% <span style="color:#f92672">(</span>7/7<span style="color:#f92672">)</span>, <span style="color:#66d9ef">done</span>.
remote: Total <span style="color:#ae81ff">10</span> <span style="color:#f92672">(</span>delta 0<span style="color:#f92672">)</span>, reused <span style="color:#ae81ff">6</span> <span style="color:#f92672">(</span>delta 0<span style="color:#f92672">)</span>, pack-reused <span style="color:#ae81ff">0</span>
Unpacking objects: 100% <span style="color:#f92672">(</span>10/10<span style="color:#f92672">)</span>, <span style="color:#66d9ef">done</span>.
Tapped <span style="color:#ae81ff">0</span> formulae <span style="color:#f92672">(</span><span style="color:#ae81ff">37</span> files, 51KB<span style="color:#f92672">)</span>
<span style="color:#f92672">==</span>&gt; Successfully started <span style="color:#e6db74">`</span>supervisor<span style="color:#e6db74">`</span> <span style="color:#f92672">(</span>label: homebrew.mxcl.supervisor<span style="color:#f92672">)</span>

</code></pre></div><p>æ‰“å¼€æµè§ˆå™¨è¾“å…¥ï¼šhttp://127.0.0.1:9001/ï¼Œå¯ä»¥çœ‹åˆ°ç®¡ç†ç•Œé¢äº†</p>
<ol start="3">
<li>ç®¡ç†è¿›ç¨‹
supervisord.iniçš„æœ€åä¸€è¡Œé…ç½®</li>
</ol>
<pre><code>[include]
files = /usr/local/etc/supervisor.d/*.ini
</code></pre><p>è¯´æ˜æˆ‘ä»¬å¯ä»¥å§é…ç½®æ–‡ä»¶å†™åˆ°/usr/local/etc/supervisor.d/ç›®å½•ä¸‹ï¼Œåªè¦ä»¥.iniåç¼€ç»“å°¾å°±è¡Œ</p>
<p>eg. ç®¡ç†nginxï¼Œå‰ææ˜¯nginxå·²ç»å®‰è£…å¥½</p>
<pre><code>vi nginx.ini

[program:nginx]
command = sudo /usr/local/bin/nginx
stdout_logfile=/data/home/supervisor/logs/nginx_stdout.log
stdout_logfile_maxbytes=10MB
stderr_logfile=/data/home/supervisor/logs/nginx_stderr.log
stderr_logfile_maxbytes=10MB
autostart=true
autorestart=true
;environment = PATH=&quot;$PATH:/usr/local/bin&quot;
</code></pre><p>ä½¿ç”¨supervisorctlå¯åŠ¨nginx</p>
<pre><code>supervisorctl start nginx
</code></pre><p>æˆ–è€…åœ¨webç®¡ç†ç•Œé¢ä¸­ç‚¹å‡»start
<img src="/resource/7189D2FA-1A95-4065-93D5-1B9E286A6591.png" alt="PNG"></p>
<ol start="4">
<li>é™„
supervisord.iniè¯¦è§£</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ini" data-lang="ini"><span style="color:#a6e22e">[unix_http_server]            </span>
<span style="color:#a6e22e">file</span><span style="color:#f92672">=</span><span style="color:#e6db74">/tmp/supervisor.sock   ; socketæ–‡ä»¶çš„è·¯å¾„ï¼Œsupervisorctlç”¨XML_RPCå’Œsupervisordé€šä¿¡å°±æ˜¯é€šè¿‡å®ƒè¿›è¡Œ
</span><span style="color:#e6db74">                              çš„ã€‚å¦‚æœä¸è®¾ç½®çš„è¯ï¼Œsupervisorctlä¹Ÿå°±ä¸èƒ½ç”¨äº†  
</span><span style="color:#e6db74">                              ä¸è®¾ç½®çš„è¯ï¼Œé»˜è®¤ä¸ºnoneã€‚ éå¿…é¡»è®¾ç½®        </span>
<span style="color:#75715e">;chmod=0700                 ; è¿™ä¸ªç®€å•ï¼Œå°±æ˜¯ä¿®æ”¹ä¸Šé¢çš„é‚£ä¸ªsocketæ–‡ä»¶çš„æƒé™ä¸º0700</span>
                              <span style="color:#a6e22e">ä¸è®¾ç½®çš„è¯ï¼Œé»˜è®¤ä¸º0700ã€‚ éå¿…é¡»è®¾ç½®</span>
<span style="color:#75715e">;chown=nobody:nogroup       ; è¿™ä¸ªä¸€æ ·ï¼Œä¿®æ”¹ä¸Šé¢çš„é‚£ä¸ªsocketæ–‡ä»¶çš„å±ç»„ä¸ºuser.group</span>
                              <span style="color:#a6e22e">ä¸è®¾ç½®çš„è¯ï¼Œé»˜è®¤ä¸ºå¯åŠ¨supervisordè¿›ç¨‹çš„ç”¨æˆ·åŠå±ç»„ã€‚éå¿…é¡»è®¾ç½®</span>
<span style="color:#75715e">;username=user              ; ä½¿ç”¨supervisorctlè¿æ¥çš„æ—¶å€™ï¼Œè®¤è¯çš„ç”¨æˆ·</span>
                               <span style="color:#a6e22e">ä¸è®¾ç½®çš„è¯ï¼Œé»˜è®¤ä¸ºä¸éœ€è¦ç”¨æˆ·ã€‚ éå¿…é¡»è®¾ç½®</span>
<span style="color:#75715e">;password=123               ; å’Œä¸Šé¢çš„ç”¨æˆ·åå¯¹åº”çš„å¯†ç ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨æ˜ç ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨SHAåŠ å¯†</span>
                              <span style="color:#a6e22e">å¦‚ï¼š{SHA}82ab876d1387bfafe46cc1c8a2ef074eae50cb1d</span>
                              <span style="color:#a6e22e">é»˜è®¤ä¸è®¾ç½®ã€‚ã€‚ã€‚éå¿…é¡»è®¾ç½®</span>

<span style="color:#75715e">;[inet_http_server]         ; ä¾¦å¬åœ¨TCPä¸Šçš„socketï¼ŒWeb Serverå’Œè¿œç¨‹çš„supervisorctléƒ½è¦ç”¨åˆ°ä»–</span>
                              <span style="color:#a6e22e">ä¸è®¾ç½®çš„è¯ï¼Œé»˜è®¤ä¸ºä¸å¼€å¯ã€‚éå¿…é¡»è®¾ç½®</span>
<span style="color:#75715e">;port=127.0.0.1:9001        ; è¿™ä¸ªæ˜¯ä¾¦å¬çš„IPå’Œç«¯å£ï¼Œä¾¦å¬æ‰€æœ‰IPç”¨ :9001æˆ–*:9001ã€‚</span>
                              <span style="color:#a6e22e">è¿™ä¸ªå¿…é¡»è®¾ç½®ï¼Œåªè¦ä¸Šé¢çš„[inet_http_server]å¼€å¯äº†ï¼Œå°±å¿…é¡»è®¾ç½®å®ƒ</span>
<span style="color:#75715e">;username=user              ; è¿™ä¸ªå’Œä¸Šé¢çš„uinx_http_serverä¸€ä¸ªæ ·ã€‚éå¿…é¡»è®¾ç½®</span>
<span style="color:#75715e">;password=123               ; è¿™ä¸ªä¹Ÿä¸€ä¸ªæ ·ã€‚éå¿…é¡»è®¾ç½®</span>

<span style="color:#a6e22e">[supervisord]                ;è¿™ä¸ªä¸»è¦æ˜¯å®šä¹‰supervisordè¿™ä¸ªæœåŠ¡ç«¯è¿›ç¨‹çš„ä¸€äº›å‚æ•°çš„</span>
                              <span style="color:#a6e22e">è¿™ä¸ªå¿…é¡»è®¾ç½®ï¼Œä¸è®¾ç½®ï¼Œsupervisorå°±ä¸ç”¨å¹²æ´»äº†</span>
<span style="color:#a6e22e">logfile</span><span style="color:#f92672">=</span><span style="color:#e6db74">/tmp/supervisord.log ; è¿™ä¸ªæ˜¯supervisordè¿™ä¸ªä¸»è¿›ç¨‹çš„æ—¥å¿—è·¯å¾„ï¼Œæ³¨æ„å’Œå­è¿›ç¨‹çš„æ—¥å¿—ä¸æ­å˜ã€‚
</span><span style="color:#e6db74">                               é»˜è®¤è·¯å¾„$CWD/supervisord.logï¼Œ$CWDæ˜¯å½“å‰ç›®å½•ã€‚ã€‚éå¿…é¡»è®¾ç½®</span>
<span style="color:#a6e22e">logfile_maxbytes</span><span style="color:#f92672">=</span><span style="color:#e6db74">50MB        ; è¿™ä¸ªæ˜¯ä¸Šé¢é‚£ä¸ªæ—¥å¿—æ–‡ä»¶çš„æœ€å¤§çš„å¤§å°ï¼Œå½“è¶…è¿‡50Mçš„æ—¶å€™ï¼Œä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„æ—¥ 
</span><span style="color:#e6db74">                               å¿—æ–‡ä»¶ã€‚å½“è®¾ç½®ä¸º0æ—¶ï¼Œè¡¨ç¤ºä¸é™åˆ¶æ–‡ä»¶å¤§å°
</span><span style="color:#e6db74">                               é»˜è®¤å€¼æ˜¯50Mï¼Œéå¿…é¡»è®¾ç½®ã€‚              </span>
<span style="color:#a6e22e">logfile_backups</span><span style="color:#f92672">=</span><span style="color:#e6db74">10           ; æ—¥å¿—æ–‡ä»¶ä¿æŒçš„æ•°é‡ï¼Œä¸Šé¢çš„æ—¥å¿—æ–‡ä»¶å¤§äº50Mæ—¶ï¼Œå°±ä¼šç”Ÿæˆä¸€ä¸ªæ–°æ–‡ä»¶ã€‚æ–‡ä»¶
</span><span style="color:#e6db74">                               æ•°é‡å¤§äº10æ—¶ï¼Œæœ€åˆçš„è€æ–‡ä»¶è¢«æ–°æ–‡ä»¶è¦†ç›–ï¼Œæ–‡ä»¶æ•°é‡å°†ä¿æŒä¸º10
</span><span style="color:#e6db74">                               å½“è®¾ç½®ä¸º0æ—¶ï¼Œè¡¨ç¤ºä¸é™åˆ¶æ–‡ä»¶çš„æ•°é‡ã€‚
</span><span style="color:#e6db74">                               é»˜è®¤æƒ…å†µä¸‹ä¸º10ã€‚ã€‚ã€‚éå¿…é¡»è®¾ç½®</span>
<span style="color:#a6e22e">loglevel</span><span style="color:#f92672">=</span><span style="color:#e6db74">info                ; æ—¥å¿—çº§åˆ«ï¼Œæœ‰critical, error, warn, info, debug, trace, or blatherç­‰
</span><span style="color:#e6db74">                               é»˜è®¤ä¸ºinfoã€‚ã€‚ã€‚éå¿…é¡»è®¾ç½®é¡¹</span>
<span style="color:#a6e22e">pidfile</span><span style="color:#f92672">=</span><span style="color:#e6db74">/tmp/supervisord.pid ; supervisordçš„pidæ–‡ä»¶è·¯å¾„ã€‚
</span><span style="color:#e6db74">                               é»˜è®¤ä¸º$CWD/supervisord.pidã€‚ã€‚ã€‚éå¿…é¡»è®¾ç½®</span>
<span style="color:#a6e22e">nodaemon</span><span style="color:#f92672">=</span><span style="color:#e6db74">false               ; å¦‚æœæ˜¯trueï¼Œsupervisordè¿›ç¨‹å°†åœ¨å‰å°è¿è¡Œ
</span><span style="color:#e6db74">                               é»˜è®¤ä¸ºfalseï¼Œä¹Ÿå°±æ˜¯åå°ä»¥å®ˆæŠ¤è¿›ç¨‹è¿è¡Œã€‚ã€‚ã€‚éå¿…é¡»è®¾ç½®</span>
<span style="color:#a6e22e">minfds</span><span style="color:#f92672">=</span><span style="color:#e6db74">1024                  ; è¿™ä¸ªæ˜¯æœ€å°‘ç³»ç»Ÿç©ºé—²çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œä½äºè¿™ä¸ªå€¼supervisorå°†ä¸ä¼šå¯åŠ¨ã€‚
</span><span style="color:#e6db74">                               ç³»ç»Ÿçš„æ–‡ä»¶æè¿°ç¬¦åœ¨è¿™é‡Œè®¾ç½®cat /proc/sys/fs/file-max
</span><span style="color:#e6db74">                               é»˜è®¤æƒ…å†µä¸‹ä¸º1024ã€‚ã€‚ã€‚éå¿…é¡»è®¾ç½®</span>
<span style="color:#a6e22e">minprocs</span><span style="color:#f92672">=</span><span style="color:#e6db74">200                 ; æœ€å°å¯ç”¨çš„è¿›ç¨‹æè¿°ç¬¦ï¼Œä½äºè¿™ä¸ªå€¼supervisorä¹Ÿå°†ä¸ä¼šæ­£å¸¸å¯åŠ¨ã€‚
</span><span style="color:#e6db74">                              ulimit  -uè¿™ä¸ªå‘½ä»¤ï¼Œå¯ä»¥æŸ¥çœ‹linuxä¸‹é¢ç”¨æˆ·çš„æœ€å¤§è¿›ç¨‹æ•°
</span><span style="color:#e6db74">                              é»˜è®¤ä¸º200ã€‚ã€‚ã€‚éå¿…é¡»è®¾ç½®</span>
<span style="color:#75715e">;umask=022                   ; è¿›ç¨‹åˆ›å»ºæ–‡ä»¶çš„æ©ç </span>
                               <span style="color:#a6e22e">é»˜è®¤ä¸º022ã€‚ã€‚éå¿…é¡»è®¾ç½®é¡¹</span>
<span style="color:#75715e">;user=chrism                 ; è¿™ä¸ªå‚æ•°å¯ä»¥è®¾ç½®ä¸€ä¸ªérootç”¨æˆ·ï¼Œå½“æˆ‘ä»¬ä»¥rootç”¨æˆ·å¯åŠ¨supervisordä¹‹åã€‚</span>
                               <span style="color:#a6e22e">æˆ‘è¿™é‡Œé¢è®¾ç½®çš„è¿™ä¸ªç”¨æˆ·ï¼Œä¹Ÿå¯ä»¥å¯¹supervisordè¿›è¡Œç®¡ç†</span>
                               <span style="color:#a6e22e">é»˜è®¤æƒ…å†µæ˜¯ä¸è®¾ç½®ã€‚ã€‚ã€‚éå¿…é¡»è®¾ç½®é¡¹</span>
<span style="color:#75715e">;identifier=supervisor       ; è¿™ä¸ªå‚æ•°æ˜¯supervisordçš„æ ‡è¯†ç¬¦ï¼Œä¸»è¦æ˜¯ç»™XML_RPCç”¨çš„ã€‚å½“ä½ æœ‰å¤šä¸ª</span>
                               <span style="color:#a6e22e">supervisorçš„æ—¶å€™ï¼Œè€Œä¸”æƒ³è°ƒç”¨XML_RPCç»Ÿä¸€ç®¡ç†ï¼Œå°±éœ€è¦ä¸ºæ¯ä¸ª</span>
                               <span style="color:#a6e22e">supervisorè®¾ç½®ä¸åŒçš„æ ‡è¯†ç¬¦äº†</span>
                               <span style="color:#a6e22e">é»˜è®¤æ˜¯supervisordã€‚ã€‚ã€‚éå¿…éœ€è®¾ç½®</span>
<span style="color:#75715e">;directory=/tmp              ; è¿™ä¸ªå‚æ•°æ˜¯å½“supervisordä½œä¸ºå®ˆæŠ¤è¿›ç¨‹è¿è¡Œçš„æ—¶å€™ï¼Œè®¾ç½®è¿™ä¸ªå‚æ•°çš„è¯ï¼Œå¯åŠ¨</span>
                               <span style="color:#a6e22e">supervisordè¿›ç¨‹ä¹‹å‰ï¼Œä¼šå…ˆåˆ‡æ¢åˆ°è¿™ä¸ªç›®å½•</span>
                               <span style="color:#a6e22e">é»˜è®¤ä¸è®¾ç½®ã€‚ã€‚ã€‚éå¿…é¡»è®¾ç½®</span>
<span style="color:#75715e">;nocleanup=true              ; è¿™ä¸ªå‚æ•°å½“ä¸ºfalseçš„æ—¶å€™ï¼Œä¼šåœ¨supervisordè¿›ç¨‹å¯åŠ¨çš„æ—¶å€™ï¼ŒæŠŠä»¥å‰å­è¿›ç¨‹</span>
                               <span style="color:#a6e22e">äº§ç”Ÿçš„æ—¥å¿—æ–‡ä»¶(è·¯å¾„ä¸ºAUTOçš„æƒ…å†µä¸‹)æ¸…é™¤æ‰ã€‚æœ‰æ—¶å€™å’±ä»¬æƒ³è¦çœ‹å†å²æ—¥å¿—ï¼Œå½“ </span>
                               <span style="color:#a6e22e">ç„¶ä¸æƒ³æ—¥å¿—è¢«æ¸…é™¤äº†ã€‚æ‰€ä»¥å¯ä»¥è®¾ç½®ä¸ºtrue</span>
                               <span style="color:#a6e22e">é»˜è®¤æ˜¯falseï¼Œæœ‰è°ƒè¯•éœ€æ±‚çš„åŒå­¦å¯ä»¥è®¾ç½®ä¸ºtrueã€‚ã€‚ã€‚éå¿…é¡»è®¾ç½®</span>
<span style="color:#75715e">;childlogdir=/tmp            ; å½“å­è¿›ç¨‹æ—¥å¿—è·¯å¾„ä¸ºAUTOçš„æ—¶å€™ï¼Œå­è¿›ç¨‹æ—¥å¿—æ–‡ä»¶çš„å­˜æ”¾è·¯å¾„ã€‚</span>
                               <span style="color:#a6e22e">é»˜è®¤è·¯å¾„æ˜¯è¿™ä¸ªä¸œè¥¿ï¼Œæ‰§è¡Œä¸‹é¢çš„è¿™ä¸ªå‘½ä»¤çœ‹çœ‹å°±OKäº†ï¼Œå¤„ç†çš„ä¸œè¥¿å°±é»˜è®¤è·¯å¾„</span>
                               <span style="color:#a6e22e">python -c &#34;import tempfile;print tempfile.gettempdir()&#34;</span>
                               <span style="color:#a6e22e">éå¿…é¡»è®¾ç½®</span>
<span style="color:#75715e">;environment=KEY=&#34;value&#34;     ; è¿™ä¸ªæ˜¯ç”¨æ¥è®¾ç½®ç¯å¢ƒå˜é‡çš„ï¼Œsupervisordåœ¨linuxä¸­å¯åŠ¨é»˜è®¤ç»§æ‰¿äº†linuxçš„</span>
                               <span style="color:#a6e22e">ç¯å¢ƒå˜é‡ï¼Œåœ¨è¿™é‡Œå¯ä»¥è®¾ç½®supervisordè¿›ç¨‹ç‰¹æœ‰çš„å…¶ä»–ç¯å¢ƒå˜é‡ã€‚</span>
                               <span style="color:#a6e22e">supervisordå¯åŠ¨å­è¿›ç¨‹æ—¶ï¼Œå­è¿›ç¨‹ä¼šæ‹·è´çˆ¶è¿›ç¨‹çš„å†…å­˜ç©ºé—´å†…å®¹ã€‚ æ‰€ä»¥è®¾ç½®çš„</span>
                               <span style="color:#a6e22e">è¿™äº›ç¯å¢ƒå˜é‡ä¹Ÿä¼šè¢«å­è¿›ç¨‹ç»§æ‰¿ã€‚</span>
                               <span style="color:#a6e22e">å°ä¾‹å­ï¼šenvironment</span><span style="color:#f92672">=</span><span style="color:#e6db74">name=&#34;haha&#34;,age=&#34;hehe&#34;
</span><span style="color:#e6db74">                               é»˜è®¤ä¸ºä¸è®¾ç½®ã€‚ã€‚ã€‚éå¿…é¡»è®¾ç½®</span>
<span style="color:#75715e">;strip_ansi=false            ; è¿™ä¸ªé€‰é¡¹å¦‚æœè®¾ç½®ä¸ºtrueï¼Œä¼šæ¸…é™¤å­è¿›ç¨‹æ—¥å¿—ä¸­çš„æ‰€æœ‰ANSI åºåˆ—ã€‚ä»€ä¹ˆæ˜¯ANSI</span>
                               <span style="color:#a6e22e">åºåˆ—å‘¢ï¼Ÿå°±æ˜¯æˆ‘ä»¬çš„\n,\tè¿™äº›ä¸œè¥¿ã€‚</span>
                               <span style="color:#a6e22e">é»˜è®¤ä¸ºfalseã€‚ã€‚ã€‚éå¿…é¡»è®¾ç½®</span>

<span style="color:#75715e">; the below section must remain in the config file for RPC</span>
<span style="color:#75715e">; (supervisorctl/web interface) to work, additional interfaces may be</span>
<span style="color:#75715e">; added by defining them in separate rpcinterface: sections</span>
<span style="color:#a6e22e">[rpcinterface:supervisor]    ;è¿™ä¸ªé€‰é¡¹æ˜¯ç»™XML_RPCç”¨çš„ï¼Œå½“ç„¶ä½ å¦‚æœæƒ³ä½¿ç”¨supervisordæˆ–è€…web server è¿™ </span>
                              <span style="color:#a6e22e">ä¸ªé€‰é¡¹å¿…é¡»è¦å¼€å¯çš„</span>
<span style="color:#a6e22e">supervisor.rpcinterface_factory</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">supervisor.rpcinterface:make_main_rpcinterface </span>

<span style="color:#a6e22e">[supervisorctl]              ;è¿™ä¸ªä¸»è¦æ˜¯é’ˆå¯¹supervisorctlçš„ä¸€äº›é…ç½®  </span>
<span style="color:#a6e22e">serverurl</span><span style="color:#f92672">=</span><span style="color:#e6db74">unix:///tmp/supervisor.sock ; è¿™ä¸ªæ˜¯supervisorctlæœ¬åœ°è¿æ¥supervisordçš„æ—¶å€™ï¼Œæœ¬åœ°UNIX socket
</span><span style="color:#e6db74">                                        è·¯å¾„ï¼Œæ³¨æ„è¿™ä¸ªæ˜¯å’Œå‰é¢çš„[unix_http_server]å¯¹åº”çš„
</span><span style="color:#e6db74">                                        é»˜è®¤å€¼å°±æ˜¯unix:///tmp/supervisor.sockã€‚ã€‚éå¿…é¡»è®¾ç½®</span>
<span style="color:#75715e">;serverurl=http://127.0.0.1:9001 ; è¿™ä¸ªæ˜¯supervisorctlè¿œç¨‹è¿æ¥supervisordçš„æ—¶å€™ï¼Œç”¨åˆ°çš„TCP socketè·¯å¾„</span>
                                   <span style="color:#a6e22e">æ³¨æ„è¿™ä¸ªå’Œå‰é¢çš„[inet_http_server]å¯¹åº”</span>
                                   <span style="color:#a6e22e">é»˜è®¤å°±æ˜¯http://127.0.0.1:9001ã€‚ã€‚ã€‚éå¿…é¡»é¡¹</span>
                               
<span style="color:#75715e">;username=chris              ; ç”¨æˆ·å</span>
                               <span style="color:#a6e22e">é»˜è®¤ç©ºã€‚ã€‚éå¿…é¡»è®¾ç½®</span>
<span style="color:#75715e">;password=123                ; å¯†ç </span>
                              <span style="color:#a6e22e">é»˜è®¤ç©ºã€‚ã€‚éå¿…é¡»è®¾ç½®</span>
<span style="color:#75715e">;prompt=mysupervisor         ; è¾“å…¥ç”¨æˆ·åå¯†ç æ—¶å€™çš„æç¤ºç¬¦</span>
                               <span style="color:#a6e22e">é»˜è®¤supervisorã€‚ã€‚éå¿…é¡»è®¾ç½®</span>
<span style="color:#75715e">;history_file=~/.sc_history  ; è¿™ä¸ªå‚æ•°å’Œshellä¸­çš„historyç±»ä¼¼ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸Šä¸‹é”®æ¥æŸ¥æ‰¾å‰é¢æ‰§è¡Œè¿‡çš„å‘½ä»¤</span>
                               <span style="color:#a6e22e">é»˜è®¤æ˜¯no fileçš„ã€‚ã€‚æ‰€ä»¥æˆ‘ä»¬æƒ³è¦æœ‰è¿™ç§åŠŸèƒ½ï¼Œå¿…é¡»æŒ‡å®šä¸€ä¸ªæ–‡ä»¶ã€‚ã€‚ã€‚é</span>
                               <span style="color:#a6e22e">å¿…é¡»è®¾ç½®</span>

<span style="color:#75715e">; The below sample program section shows all possible program subsection values,</span>
<span style="color:#75715e">; create one or more &#39;real&#39; program: sections to be able to control them under</span>
<span style="color:#75715e">; supervisor.</span>

<span style="color:#75715e">;[program:theprogramname]      ;è¿™ä¸ªå°±æ˜¯å’±ä»¬è¦ç®¡ç†çš„å­è¿›ç¨‹äº†ï¼Œ&#34;:&#34;åé¢çš„æ˜¯åå­—ï¼Œæœ€å¥½åˆ«ä¹±å†™å’Œå®é™…è¿›ç¨‹</span>
                                <span style="color:#a6e22e">æœ‰ç‚¹å…³è”æœ€å¥½ã€‚è¿™æ ·çš„programæˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸€ä¸ªæˆ–å¤šä¸ªï¼Œä¸€ä¸ªprogramå°±æ˜¯</span>
                                <span style="color:#a6e22e">è¦è¢«ç®¡ç†çš„ä¸€ä¸ªè¿›ç¨‹</span>
<span style="color:#75715e">;command=/bin/cat              ; è¿™ä¸ªå°±æ˜¯æˆ‘ä»¬çš„è¦å¯åŠ¨è¿›ç¨‹çš„å‘½ä»¤è·¯å¾„äº†ï¼Œå¯ä»¥å¸¦å‚æ•°</span>
                                <span style="color:#a6e22e">ä¾‹å­ï¼š/home/test.py -a &#39;hehe&#39;</span>
                                <span style="color:#a6e22e">æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬çš„commandåªèƒ½æ˜¯é‚£ç§åœ¨ç»ˆç«¯è¿è¡Œçš„è¿›ç¨‹ï¼Œä¸èƒ½æ˜¯</span>
                                <span style="color:#a6e22e">å®ˆæŠ¤è¿›ç¨‹ã€‚è¿™ä¸ªæƒ³æƒ³ä¹ŸçŸ¥é“äº†ï¼Œæ¯”å¦‚è¯´command</span><span style="color:#f92672">=</span><span style="color:#e6db74">service httpd startã€‚
</span><span style="color:#e6db74">                                httpdè¿™ä¸ªè¿›ç¨‹è¢«linuxçš„serviceç®¡ç†äº†ï¼Œæˆ‘ä»¬çš„supervisorå†å»å¯åŠ¨è¿™ä¸ªå‘½ä»¤
</span><span style="color:#e6db74">                                è¿™å·²ç»ä¸æ˜¯ä¸¥æ ¼æ„ä¹‰çš„å­è¿›ç¨‹äº†ã€‚
</span><span style="color:#e6db74">                                è¿™ä¸ªæ˜¯ä¸ªå¿…é¡»è®¾ç½®çš„é¡¹</span>
<span style="color:#75715e">;process_name=%(program_name)s ; è¿™ä¸ªæ˜¯è¿›ç¨‹åï¼Œå¦‚æœæˆ‘ä»¬ä¸‹é¢çš„numprocså‚æ•°ä¸º1çš„è¯ï¼Œå°±ä¸ç”¨ç®¡è¿™ä¸ªå‚æ•°</span>
                                 <span style="color:#a6e22e">äº†ï¼Œå®ƒé»˜è®¤å€¼%(program_name)sä¹Ÿå°±æ˜¯ä¸Šé¢çš„é‚£ä¸ªprogramå†’å·åé¢çš„åå­—ï¼Œ</span>
                                 <span style="color:#a6e22e">ä½†æ˜¯å¦‚æœnumprocsä¸ºå¤šä¸ªçš„è¯ï¼Œé‚£å°±ä¸èƒ½è¿™ä¹ˆå¹²äº†ã€‚æƒ³æƒ³ä¹ŸçŸ¥é“ï¼Œä¸å¯èƒ½æ¯ä¸ª</span>
                                 <span style="color:#a6e22e">è¿›ç¨‹éƒ½ç”¨åŒä¸€ä¸ªè¿›ç¨‹åå§ã€‚</span>

                                
<span style="color:#75715e">;numprocs=1                    ; å¯åŠ¨è¿›ç¨‹çš„æ•°ç›®ã€‚å½“ä¸ä¸º1æ—¶ï¼Œå°±æ˜¯è¿›ç¨‹æ± çš„æ¦‚å¿µï¼Œæ³¨æ„process_nameçš„è®¾ç½®</span>
                                 <span style="color:#a6e22e">é»˜è®¤ä¸º1    ã€‚ã€‚éå¿…é¡»è®¾ç½®</span>
<span style="color:#75715e">;directory=/tmp                ; è¿›ç¨‹è¿è¡Œå‰ï¼Œä¼šå‰åˆ‡æ¢åˆ°è¿™ä¸ªç›®å½•</span>
                                 <span style="color:#a6e22e">é»˜è®¤ä¸è®¾ç½®ã€‚ã€‚ã€‚éå¿…é¡»è®¾ç½®</span>
<span style="color:#75715e">;umask=022                     ; è¿›ç¨‹æ©ç ï¼Œé»˜è®¤noneï¼Œéå¿…é¡»</span>
<span style="color:#75715e">;priority=999                  ; å­è¿›ç¨‹å¯åŠ¨å…³é—­ä¼˜å…ˆçº§ï¼Œä¼˜å…ˆçº§ä½çš„ï¼Œæœ€å…ˆå¯åŠ¨ï¼Œå…³é—­çš„æ—¶å€™æœ€åå…³é—­</span>
                                 <span style="color:#a6e22e">é»˜è®¤å€¼ä¸º999 ã€‚ã€‚éå¿…é¡»è®¾ç½®</span>
<span style="color:#75715e">;autostart=true                ; å¦‚æœæ˜¯trueçš„è¯ï¼Œå­è¿›ç¨‹å°†åœ¨supervisordå¯åŠ¨åè¢«è‡ªåŠ¨å¯åŠ¨</span>
                                 <span style="color:#a6e22e">é»˜è®¤å°±æ˜¯true   ã€‚ã€‚éå¿…é¡»è®¾ç½®</span>
<span style="color:#75715e">;autorestart=unexpected        ; è¿™ä¸ªæ˜¯è®¾ç½®å­è¿›ç¨‹æŒ‚æ‰åè‡ªåŠ¨é‡å¯çš„æƒ…å†µï¼Œæœ‰ä¸‰ä¸ªé€‰é¡¹ï¼Œfalse,unexpected</span>
                                 <span style="color:#a6e22e">å’Œtrueã€‚å¦‚æœä¸ºfalseçš„æ—¶å€™ï¼Œæ— è®ºä»€ä¹ˆæƒ…å†µä¸‹ï¼Œéƒ½ä¸ä¼šè¢«é‡æ–°å¯åŠ¨ï¼Œ</span>
                                 <span style="color:#a6e22e">å¦‚æœä¸ºunexpectedï¼Œåªæœ‰å½“è¿›ç¨‹çš„é€€å‡ºç ä¸åœ¨ä¸‹é¢çš„exitcodesé‡Œé¢å®šä¹‰çš„é€€ </span>
                                 <span style="color:#a6e22e">å‡ºç çš„æ—¶å€™ï¼Œæ‰ä¼šè¢«è‡ªåŠ¨é‡å¯ã€‚å½“ä¸ºtrueçš„æ—¶å€™ï¼Œåªè¦å­è¿›ç¨‹æŒ‚æ‰ï¼Œå°†ä¼šè¢«æ— </span>
                                 <span style="color:#a6e22e">æ¡ä»¶çš„é‡å¯</span>
<span style="color:#75715e">;startsecs=1                   ; è¿™ä¸ªé€‰é¡¹æ˜¯å­è¿›ç¨‹å¯åŠ¨å¤šå°‘ç§’ä¹‹åï¼Œæ­¤æ—¶çŠ¶æ€å¦‚æœæ˜¯runningï¼Œåˆ™æˆ‘ä»¬è®¤ä¸ºå¯</span>
                                 <span style="color:#a6e22e">åŠ¨æˆåŠŸäº†</span>
                                 <span style="color:#a6e22e">é»˜è®¤å€¼ä¸º1 ã€‚ã€‚éå¿…é¡»è®¾ç½®</span>
<span style="color:#75715e">;startretries=3                ; å½“è¿›ç¨‹å¯åŠ¨å¤±è´¥åï¼Œæœ€å¤§å°è¯•å¯åŠ¨çš„æ¬¡æ•°ã€‚ã€‚å½“è¶…è¿‡3æ¬¡åï¼Œsupervisorå°†æŠŠ</span>
                                 <span style="color:#a6e22e">æ­¤è¿›ç¨‹çš„çŠ¶æ€ç½®ä¸ºFAIL</span>
                                 <span style="color:#a6e22e">é»˜è®¤å€¼ä¸º3 ã€‚ã€‚éå¿…é¡»è®¾ç½®</span>
<span style="color:#75715e">;exitcodes=0,2                 ; æ³¨æ„å’Œä¸Šé¢çš„çš„autorestart=unexpectedå¯¹åº”ã€‚ã€‚exitcodesé‡Œé¢çš„å®šä¹‰çš„</span>
                                 <span style="color:#a6e22e">é€€å‡ºç æ˜¯expectedçš„ã€‚</span>
<span style="color:#75715e">;stopsignal=QUIT               ; è¿›ç¨‹åœæ­¢ä¿¡å·ï¼Œå¯ä»¥ä¸ºTERM, HUP, INT, QUIT, KILL, USR1, or USR2ç­‰ä¿¡å·</span>
                                  <span style="color:#a6e22e">é»˜è®¤ä¸ºTERM ã€‚ã€‚å½“ç”¨è®¾å®šçš„ä¿¡å·å»å¹²æ‰è¿›ç¨‹ï¼Œé€€å‡ºç ä¼šè¢«è®¤ä¸ºæ˜¯expected</span>
                                  <span style="color:#a6e22e">éå¿…é¡»è®¾ç½®</span>
<span style="color:#75715e">;stopwaitsecs=10               ; è¿™ä¸ªæ˜¯å½“æˆ‘ä»¬å‘å­è¿›ç¨‹å‘é€stopsignalä¿¡å·åï¼Œåˆ°ç³»ç»Ÿè¿”å›ä¿¡æ¯</span>
                                 <span style="color:#a6e22e">ç»™supervisordï¼Œæ‰€ç­‰å¾…çš„æœ€å¤§æ—¶é—´ã€‚ è¶…è¿‡è¿™ä¸ªæ—¶é—´ï¼Œsupervisordä¼šå‘è¯¥</span>
                                 <span style="color:#a6e22e">å­è¿›ç¨‹å‘é€ä¸€ä¸ªå¼ºåˆ¶killçš„ä¿¡å·ã€‚</span>
                                 <span style="color:#a6e22e">é»˜è®¤ä¸º10ç§’ã€‚ã€‚éå¿…é¡»è®¾ç½®</span>
<span style="color:#75715e">;stopasgroup=false             ; è¿™ä¸ªä¸œè¥¿ä¸»è¦ç”¨äºï¼Œsupervisordç®¡ç†çš„å­è¿›ç¨‹ï¼Œè¿™ä¸ªå­è¿›ç¨‹æœ¬èº«è¿˜æœ‰</span>
                                 <span style="color:#a6e22e">å­è¿›ç¨‹ã€‚é‚£ä¹ˆæˆ‘ä»¬å¦‚æœä»…ä»…å¹²æ‰supervisordçš„å­è¿›ç¨‹çš„è¯ï¼Œå­è¿›ç¨‹çš„å­è¿›ç¨‹</span>
                                 <span style="color:#a6e22e">æœ‰å¯èƒ½ä¼šå˜æˆå­¤å„¿è¿›ç¨‹ã€‚æ‰€ä»¥å’±ä»¬å¯ä»¥è®¾ç½®å¯ä¸ªé€‰é¡¹ï¼ŒæŠŠæ•´ä¸ªè¯¥å­è¿›ç¨‹çš„</span>
                                 <span style="color:#a6e22e">æ•´ä¸ªè¿›ç¨‹ç»„éƒ½å¹²æ‰ã€‚ è®¾ç½®ä¸ºtrueçš„è¯ï¼Œä¸€èˆ¬killasgroupä¹Ÿä¼šè¢«è®¾ç½®ä¸ºtrueã€‚</span>
                                 <span style="color:#a6e22e">éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¯¥é€‰é¡¹å‘é€çš„æ˜¯stopä¿¡å·</span>
                                 <span style="color:#a6e22e">é»˜è®¤ä¸ºfalseã€‚ã€‚éå¿…é¡»è®¾ç½®ã€‚ã€‚</span>
<span style="color:#75715e">;killasgroup=false             ; è¿™ä¸ªå’Œä¸Šé¢çš„stopasgroupç±»ä¼¼ï¼Œä¸è¿‡å‘é€çš„æ˜¯killä¿¡å·</span>
<span style="color:#75715e">;user=chrism                   ; å¦‚æœsupervisordæ˜¯rootå¯åŠ¨ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œè®¾ç½®è¿™ä¸ªérootç”¨æˆ·ï¼Œå¯ä»¥ç”¨æ¥</span>
                                 <span style="color:#a6e22e">ç®¡ç†è¯¥program</span>
                                 <span style="color:#a6e22e">é»˜è®¤ä¸è®¾ç½®ã€‚ã€‚ã€‚éå¿…é¡»è®¾ç½®é¡¹</span>
<span style="color:#75715e">;redirect_stderr=true          ; å¦‚æœä¸ºtrueï¼Œåˆ™stderrçš„æ—¥å¿—ä¼šè¢«å†™å…¥stdoutæ—¥å¿—æ–‡ä»¶ä¸­</span>
                                 <span style="color:#a6e22e">é»˜è®¤ä¸ºfalseï¼Œéå¿…é¡»è®¾ç½®</span>
<span style="color:#75715e">;stdout_logfile=/a/path        ; å­è¿›ç¨‹çš„stdoutçš„æ—¥å¿—è·¯å¾„ï¼Œå¯ä»¥æŒ‡å®šè·¯å¾„ï¼ŒAUTOï¼Œnoneç­‰ä¸‰ä¸ªé€‰é¡¹ã€‚</span>
                                 <span style="color:#a6e22e">è®¾ç½®ä¸ºnoneçš„è¯ï¼Œå°†æ²¡æœ‰æ—¥å¿—äº§ç”Ÿã€‚è®¾ç½®ä¸ºAUTOçš„è¯ï¼Œå°†éšæœºæ‰¾ä¸€ä¸ªåœ°æ–¹</span>
                                 <span style="color:#a6e22e">ç”Ÿæˆæ—¥å¿—æ–‡ä»¶ï¼Œè€Œä¸”å½“supervisordé‡æ–°å¯åŠ¨çš„æ—¶å€™ï¼Œä»¥å‰çš„æ—¥å¿—æ–‡ä»¶ä¼šè¢«</span>
                                 <span style="color:#a6e22e">æ¸…ç©ºã€‚å½“ redirect_stderr</span><span style="color:#f92672">=</span><span style="color:#e6db74">trueçš„æ—¶å€™ï¼Œsterrä¹Ÿä¼šå†™è¿›è¿™ä¸ªæ—¥å¿—æ–‡ä»¶</span>
<span style="color:#75715e">;stdout_logfile_maxbytes=1MB   ; æ—¥å¿—æ–‡ä»¶æœ€å¤§å¤§å°ï¼Œå’Œ[supervisord]ä¸­å®šä¹‰çš„ä¸€æ ·ã€‚é»˜è®¤ä¸º50</span>
<span style="color:#75715e">;stdout_logfile_backups=10     ; å’Œ[supervisord]å®šä¹‰çš„ä¸€æ ·ã€‚é»˜è®¤10</span>
<span style="color:#75715e">;stdout_capture_maxbytes=1MB   ; è¿™ä¸ªä¸œè¥¿æ˜¯è®¾å®šcaptureç®¡é“çš„å¤§å°ï¼Œå½“å€¼ä¸ä¸º0çš„æ—¶å€™ï¼Œå­è¿›ç¨‹å¯ä»¥ä»stdout</span>
                                 <span style="color:#a6e22e">å‘é€ä¿¡æ¯ï¼Œè€Œsupervisorå¯ä»¥æ ¹æ®ä¿¡æ¯ï¼Œå‘é€ç›¸åº”çš„eventã€‚</span>
                                 <span style="color:#a6e22e">é»˜è®¤ä¸º0ï¼Œä¸º0çš„æ—¶å€™è¡¨è¾¾å…³é—­ç®¡é“ã€‚ã€‚ã€‚éå¿…é¡»é¡¹</span>
<span style="color:#75715e">;stdout_events_enabled=false   ; å½“è®¾ç½®ä¸ºtureçš„æ—¶å€™ï¼Œå½“å­è¿›ç¨‹ç”±stdoutå‘æ–‡ä»¶æè¿°ç¬¦ä¸­å†™æ—¥å¿—çš„æ—¶å€™ï¼Œå°†</span>
                                 <span style="color:#a6e22e">è§¦å‘supervisordå‘é€PROCESS_LOG_STDOUTç±»å‹çš„event</span>
                                 <span style="color:#a6e22e">é»˜è®¤ä¸ºfalseã€‚ã€‚ã€‚éå¿…é¡»è®¾ç½®</span>
<span style="color:#75715e">;stderr_logfile=/a/path        ; è¿™ä¸ªä¸œè¥¿æ˜¯è®¾ç½®stderrå†™çš„æ—¥å¿—è·¯å¾„ï¼Œå½“redirect_stderr=trueã€‚è¿™ä¸ªå°±ä¸ç”¨</span>
                                 <span style="color:#a6e22e">è®¾ç½®äº†ï¼Œè®¾ç½®äº†ä¹Ÿæ˜¯ç™½æ­ã€‚å› ä¸ºå®ƒä¼šè¢«å†™å…¥stdout_logfileçš„åŒä¸€ä¸ªæ–‡ä»¶ä¸­</span>
                                 <span style="color:#a6e22e">é»˜è®¤ä¸ºAUTOï¼Œä¹Ÿå°±æ˜¯éšä¾¿æ‰¾ä¸ªåœ°å­˜ï¼Œsupervisordé‡å¯è¢«æ¸…ç©ºã€‚ã€‚éå¿…é¡»è®¾ç½®</span>
<span style="color:#75715e">;stderr_logfile_maxbytes=1MB   ; è¿™ä¸ªå‡ºç°å¥½å‡ æ¬¡äº†ï¼Œå°±ä¸é‡å¤äº†</span>
<span style="color:#75715e">;stderr_logfile_backups=10     ; è¿™ä¸ªä¹Ÿæ˜¯</span>
<span style="color:#75715e">;stderr_capture_maxbytes=1MB   ; è¿™ä¸ªä¸€æ ·ï¼Œå’Œstdout_captureä¸€æ ·ã€‚ é»˜è®¤ä¸º0ï¼Œå…³é—­çŠ¶æ€</span>
<span style="color:#75715e">;stderr_events_enabled=false   ; è¿™ä¸ªä¹Ÿæ˜¯ä¸€æ ·ï¼Œé»˜è®¤ä¸ºfalse</span>
<span style="color:#75715e">;environment=A=&#34;1&#34;,B=&#34;2&#34;       ; è¿™ä¸ªæ˜¯è¯¥å­è¿›ç¨‹çš„ç¯å¢ƒå˜é‡ï¼Œå’Œåˆ«çš„å­è¿›ç¨‹æ˜¯ä¸å…±äº«çš„</span>
<span style="color:#75715e">;serverurl=AUTO                ; </span>

<span style="color:#75715e">; The below sample eventlistener section shows all possible</span>
<span style="color:#75715e">; eventlistener subsection values, create one or more &#39;real&#39;</span>
<span style="color:#75715e">; eventlistener: sections to be able to handle event notifications</span>
<span style="color:#75715e">; sent by supervisor.</span>

<span style="color:#75715e">;[eventlistener:theeventlistenername] ;è¿™ä¸ªä¸œè¥¿å…¶å®å’Œprogramçš„åœ°ä½æ˜¯ä¸€æ ·çš„ï¼Œä¹Ÿæ˜¯suopervisorå¯åŠ¨çš„å­è¿›</span>
                                       <span style="color:#a6e22e">ç¨‹ï¼Œä¸è¿‡å®ƒå¹²çš„æ´»æ˜¯è®¢é˜…supervisordå‘é€çš„eventã€‚ä»–çš„åå­—å°±å«</span>
                                       <span style="color:#a6e22e">listeneräº†ã€‚æˆ‘ä»¬å¯ä»¥åœ¨listeneré‡Œé¢åšä¸€ç³»åˆ—å¤„ç†ï¼Œæ¯”å¦‚æŠ¥è­¦ç­‰ç­‰</span>
                                       <span style="color:#a6e22e">æ¥¼ä¸»è¿™ä¸¤å¤©å¹²çš„æ´»ï¼Œå°±æ˜¯å¼„çš„è¿™ç©æ„</span>
<span style="color:#75715e">;command=/bin/eventlistener    ; è¿™ä¸ªå’Œä¸Šé¢çš„programä¸€æ ·ï¼Œè¡¨ç¤ºlistenerçš„å¯æ‰§è¡Œæ–‡ä»¶çš„è·¯å¾„</span>
<span style="color:#75715e">;process_name=%(program_name)s ; è¿™ä¸ªä¹Ÿä¸€æ ·ï¼Œè¿›ç¨‹åï¼Œå½“ä¸‹é¢çš„numprocsä¸ºå¤šä¸ªçš„æ—¶å€™ï¼Œæ‰éœ€è¦ã€‚å¦åˆ™é»˜è®¤å°±</span>
                                 <span style="color:#a6e22e">OKäº†</span>
<span style="color:#75715e">;numprocs=1                    ; ç›¸åŒçš„listenerå¯åŠ¨çš„ä¸ªæ•°</span>
<span style="color:#75715e">;events=EVENT                  ; eventäº‹ä»¶çš„ç±»å‹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰å†™åœ¨è¿™ä¸ªåœ°æ–¹çš„äº‹ä»¶ç±»å‹ã€‚æ‰ä¼šè¢«å‘é€</span>
                      
                                 
<span style="color:#75715e">;buffer_size=10                ; è¿™ä¸ªæ˜¯eventé˜Ÿåˆ—ç¼“å­˜å¤§å°ï¼Œå•ä½ä¸å¤ªæ¸…æ¥šï¼Œæ¥¼ä¸»çŒœæµ‹åº”è¯¥æ˜¯ä¸ªå§ã€‚å½“buffer</span>
                                 <span style="color:#a6e22e">è¶…è¿‡10çš„æ—¶å€™ï¼Œæœ€æ—§çš„eventå°†ä¼šè¢«æ¸…é™¤ï¼Œå¹¶æŠŠæ–°çš„eventæ”¾è¿›å»ã€‚</span>
                                 <span style="color:#a6e22e">é»˜è®¤å€¼ä¸º10ã€‚ã€‚éå¿…é¡»é€‰é¡¹</span>
<span style="color:#75715e">;directory=/tmp                ; è¿›ç¨‹æ‰§è¡Œå‰ï¼Œä¼šåˆ‡æ¢åˆ°è¿™ä¸ªç›®å½•ä¸‹æ‰§è¡Œ</span>
                                 <span style="color:#a6e22e">é»˜è®¤ä¸ºä¸åˆ‡æ¢ã€‚ã€‚ã€‚éå¿…é¡»</span>
<span style="color:#75715e">;umask=022                     ; æ·¹æ²¡ï¼Œé»˜è®¤ä¸ºnoneï¼Œä¸è¯´äº†</span>
<span style="color:#75715e">;priority=-1                   ; å¯åŠ¨ä¼˜å…ˆçº§ï¼Œé»˜è®¤-1ï¼Œä¹Ÿä¸æ‰¯äº†</span>
<span style="color:#75715e">;autostart=true                ; æ˜¯å¦éšsupervisordå¯åŠ¨ä¸€èµ·å¯åŠ¨ï¼Œé»˜è®¤true</span>
<span style="color:#75715e">;autorestart=unexpected        ; æ˜¯å¦è‡ªåŠ¨é‡å¯ï¼Œå’Œprogramä¸€ä¸ªæ ·ï¼Œåˆ†true,false,unexpectedç­‰ï¼Œæ³¨æ„</span>
                                  <span style="color:#a6e22e">unexpectedå’Œexitcodesçš„å…³ç³»</span>
<span style="color:#75715e">;startsecs=1                   ; ä¹Ÿæ˜¯ä¸€æ ·ï¼Œè¿›ç¨‹å¯åŠ¨åè·‘äº†å‡ ç§’é’Ÿï¼Œæ‰è¢«è®¤å®šä¸ºæˆåŠŸå¯åŠ¨ï¼Œé»˜è®¤1</span>
<span style="color:#75715e">;startretries=3                ; å¤±è´¥æœ€å¤§å°è¯•æ¬¡æ•°ï¼Œé»˜è®¤3</span>
<span style="color:#75715e">;exitcodes=0,2                 ; æœŸæœ›æˆ–è€…è¯´é¢„æ–™ä¸­çš„è¿›ç¨‹é€€å‡ºç ï¼Œ</span>
<span style="color:#75715e">;stopsignal=QUIT               ; å¹²æ‰è¿›ç¨‹çš„ä¿¡å·ï¼Œé»˜è®¤ä¸ºTERMï¼Œæ¯”å¦‚è®¾ç½®ä¸ºQUITï¼Œé‚£ä¹ˆå¦‚æœQUITæ¥å¹²è¿™ä¸ªè¿›ç¨‹</span>
                                 <span style="color:#a6e22e">é‚£ä¹ˆä¼šè¢«è®¤ä¸ºæ˜¯æ­£å¸¸ç»´æŠ¤ï¼Œé€€å‡ºç ä¹Ÿè¢«è®¤ä¸ºæ˜¯expectedä¸­çš„</span>
<span style="color:#75715e">;stopwaitsecs=10               ; max num secs to wait b4 SIGKILL (default 10)</span>
<span style="color:#75715e">;stopasgroup=false             ; send stop signal to the UNIX process group (default false)</span>
<span style="color:#75715e">;killasgroup=false             ; SIGKILL the UNIX process group (def false)</span>
<span style="color:#75715e">;user=chrism                   ;è®¾ç½®æ™®é€šç”¨æˆ·ï¼Œå¯ä»¥ç”¨æ¥ç®¡ç†è¯¥listenerè¿›ç¨‹ã€‚</span>
                                <span style="color:#a6e22e">é»˜è®¤ä¸ºç©ºã€‚ã€‚éå¿…é¡»è®¾ç½®</span>
<span style="color:#75715e">;redirect_stderr=true          ; ä¸ºtrueçš„è¯ï¼Œstderrçš„logä¼šå¹¶å…¥stdoutçš„logé‡Œé¢</span>
                                <span style="color:#a6e22e">é»˜è®¤ä¸ºfalseã€‚ã€‚ã€‚éå¿…é¡»è®¾ç½®</span>
<span style="color:#75715e">;stdout_logfile=/a/path        ; è¿™ä¸ªä¸è¯´äº†ï¼Œå¥½å‡ éäº†</span>
<span style="color:#75715e">;stdout_logfile_maxbytes=1MB   ; è¿™ä¸ªä¹Ÿæ˜¯</span>
<span style="color:#75715e">;stdout_logfile_backups=10     ; è¿™ä¸ªä¹Ÿæ˜¯</span>
<span style="color:#75715e">;stdout_events_enabled=false   ; è¿™ä¸ªå…¶å®æ˜¯é”™çš„ï¼Œlisteneræ˜¯ä¸èƒ½å‘é€event</span>
<span style="color:#75715e">;stderr_logfile=/a/path        ; è¿™ä¸ªä¹Ÿæ˜¯</span>
<span style="color:#75715e">;stderr_logfile_maxbytes=1MB   ; è¿™ä¸ªä¹Ÿæ˜¯</span>
<span style="color:#75715e">;stderr_logfile_backups        ; è¿™ä¸ªä¸è¯´äº†</span>
<span style="color:#75715e">;stderr_events_enabled=false   ; è¿™ä¸ªä¹Ÿæ˜¯é”™çš„ï¼Œlistenerä¸èƒ½å‘é€event</span>
<span style="color:#75715e">;environment=A=&#34;1&#34;,B=&#34;2&#34;       ; è¿™ä¸ªæ˜¯è¯¥å­è¿›ç¨‹çš„ç¯å¢ƒå˜é‡</span>
                                 <span style="color:#a6e22e">é»˜è®¤ä¸ºç©ºã€‚ã€‚ã€‚éå¿…é¡»è®¾ç½®</span>
<span style="color:#75715e">;serverurl=AUTO                ; override serverurl computation (childutils)</span>

<span style="color:#75715e">; The below sample group section shows all possible group values,</span>
<span style="color:#75715e">; create one or more &#39;real&#39; group: sections to create &#34;heterogeneous&#34;</span>
<span style="color:#75715e">; process groups.</span>

<span style="color:#75715e">;[group:thegroupname]  ;è¿™ä¸ªä¸œè¥¿å°±æ˜¯ç»™programsåˆ†ç»„ï¼Œåˆ’åˆ†åˆ°ç»„é‡Œé¢çš„programã€‚æˆ‘ä»¬å°±ä¸ç”¨ä¸€ä¸ªä¸€ä¸ªå»æ“ä½œäº†</span>
                         <span style="color:#a6e22e">æˆ‘ä»¬å¯ä»¥å¯¹ç»„åè¿›è¡Œç»Ÿä¸€çš„æ“ä½œã€‚ æ³¨æ„ï¼šprogramè¢«åˆ’åˆ†åˆ°ç»„é‡Œé¢ä¹‹åï¼Œå°±ç›¸å½“äºåŸæ¥</span>
                         <span style="color:#a6e22e">çš„é…ç½®ä»supervisorçš„é…ç½®æ–‡ä»¶é‡Œæ¶ˆå¤±äº†ã€‚ã€‚ã€‚supervisoråªä¼šå¯¹ç»„è¿›è¡Œç®¡ç†ï¼Œè€Œä¸å†</span>
                         <span style="color:#a6e22e">ä¼šå¯¹ç»„é‡Œé¢çš„å•ä¸ªprogramè¿›è¡Œç®¡ç†äº†</span>
<span style="color:#75715e">;programs=progname1,progname2  ; ç»„æˆå‘˜ï¼Œç”¨é€—å·åˆ†å¼€</span>
                                 <span style="color:#a6e22e">è¿™ä¸ªæ˜¯ä¸ªå¿…é¡»çš„è®¾ç½®é¡¹</span>
<span style="color:#75715e">;priority=999                  ; ä¼˜å…ˆçº§ï¼Œç›¸å¯¹äºç»„å’Œç»„ä¹‹é—´è¯´çš„</span>
                                 <span style="color:#a6e22e">é»˜è®¤999ã€‚ã€‚éå¿…é¡»é€‰é¡¹</span>

<span style="color:#75715e">; The [include] section can just contain the &#34;files&#34; setting.  This</span>
<span style="color:#75715e">; setting can list multiple files (separated by whitespace or</span>
<span style="color:#75715e">; newlines).  It can also contain wildcards.  The filenames are</span>
<span style="color:#75715e">; interpreted as relative to this file.  Included files *cannot*</span>
<span style="color:#75715e">; include files themselves.</span>

<span style="color:#75715e">;[include]                         ;è¿™ä¸ªä¸œè¥¿æŒºæœ‰ç”¨çš„ï¼Œå½“æˆ‘ä»¬è¦ç®¡ç†çš„è¿›ç¨‹å¾ˆå¤šçš„æ—¶å€™ï¼Œå†™åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œé¢</span>
                                    <span style="color:#a6e22e">å°±æœ‰ç‚¹å¤§äº†ã€‚æˆ‘ä»¬å¯ä»¥æŠŠé…ç½®ä¿¡æ¯å†™åˆ°å¤šä¸ªæ–‡ä»¶ä¸­ï¼Œç„¶åincludeè¿‡æ¥</span>
<span style="color:#75715e">;files = relative/directory/*.ini</span>
</code></pre></div><p>programé…ç½®è¯¦è§£</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ini" data-lang="ini"><span style="color:#66d9ef">[program:nginx]</span>
<span style="color:#a6e22e">directory</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">/usr/local/bin/ ; ç¨‹åºçš„å¯åŠ¨ç›®å½•</span>
<span style="color:#a6e22e">command</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">sudo /usr/local/bin/nginx  ; å¯åŠ¨å‘½ä»¤ï¼Œå¯ä»¥çœ‹å‡ºä¸æ‰‹åŠ¨åœ¨å‘½ä»¤è¡Œå¯åŠ¨çš„å‘½ä»¤æ˜¯ä¸€æ ·çš„</span>
<span style="color:#a6e22e">autostart</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">true     ; åœ¨ supervisord å¯åŠ¨çš„æ—¶å€™ä¹Ÿè‡ªåŠ¨å¯åŠ¨</span>
<span style="color:#a6e22e">startsecs</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">5        ; å¯åŠ¨ 5 ç§’åæ²¡æœ‰å¼‚å¸¸é€€å‡ºï¼Œå°±å½“ä½œå·²ç»æ­£å¸¸å¯åŠ¨äº†</span>
<span style="color:#a6e22e">autorestart</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">true   ; ç¨‹åºå¼‚å¸¸é€€å‡ºåè‡ªåŠ¨é‡å¯</span>
<span style="color:#a6e22e">startretries</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">3     ; å¯åŠ¨å¤±è´¥è‡ªåŠ¨é‡è¯•æ¬¡æ•°ï¼Œé»˜è®¤æ˜¯ 3</span>
<span style="color:#a6e22e">user</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">root          ; ç”¨å“ªä¸ªç”¨æˆ·å¯åŠ¨</span>
<span style="color:#a6e22e">redirect_stderr</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">true  ; æŠŠ stderr é‡å®šå‘åˆ° stdoutï¼Œé»˜è®¤ false</span>
<span style="color:#a6e22e">stdout_logfile_backups</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">20     ; stdout æ—¥å¿—æ–‡ä»¶å¤‡ä»½æ•°</span>
<span style="color:#75715e">; stdout æ—¥å¿—æ–‡ä»¶ï¼Œéœ€è¦æ³¨æ„å½“æŒ‡å®šç›®å½•ä¸å­˜åœ¨æ—¶æ— æ³•æ­£å¸¸å¯åŠ¨ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨åˆ›å»ºç›®å½•ï¼ˆsupervisord ä¼šè‡ªåŠ¨åˆ›å»ºæ—¥å¿—æ–‡ä»¶ï¼‰</span>
<span style="color:#a6e22e">stdout_logfile</span><span style="color:#f92672">=</span><span style="color:#e6db74">/data/home/supervisor/logs/nginx_stdout.log</span>
<span style="color:#a6e22e">stdout_logfile_maxbytes</span><span style="color:#f92672">=</span><span style="color:#e6db74">10MB</span>
<span style="color:#a6e22e">stderr_logfile</span><span style="color:#f92672">=</span><span style="color:#e6db74">/data/home/supervisor/logs/nginx_stderr.log</span>
<span style="color:#a6e22e">stderr_logfile_maxbytes</span><span style="color:#f92672">=</span><span style="color:#e6db74">10MB</span>

<span style="color:#75715e">; å¯ä»¥é€šè¿‡ environment æ¥æ·»åŠ éœ€è¦çš„ç¯å¢ƒå˜é‡ï¼Œä¸€ç§å¸¸è§çš„ç”¨æ³•æ˜¯ä¿®æ”¹ PYTHONPATH</span>
<span style="color:#75715e">; environment=PYTHONPATH=$PYTHONPATH:/path/to/somewhere</span>

</code></pre></div><p>ä¸€ä»½é…ç½®æ–‡ä»¶è‡³å°‘éœ€è¦ä¸€ä¸ª [program:x] éƒ¨åˆ†çš„é…ç½®ï¼Œæ¥å‘Šè¯‰ supervisord éœ€è¦ç®¡ç†é‚£ä¸ªè¿›ç¨‹ã€‚[program:x] è¯­æ³•ä¸­çš„ x è¡¨ç¤º program nameï¼Œä¼šåœ¨å®¢æˆ·ç«¯ï¼ˆsupervisorctl æˆ– web ç•Œé¢ï¼‰æ˜¾ç¤ºï¼Œåœ¨ supervisorctl ä¸­é€šè¿‡è¿™ä¸ªå€¼æ¥å¯¹ç¨‹åºè¿›è¡Œ startã€restartã€stop ç­‰æ“ä½œã€‚</p>
<p>supervisorctlå¸¸ç”¨å‘½ä»¤</p>
<pre><code>status    # æŸ¥çœ‹ç¨‹åºçŠ¶æ€
stop usercenter   # å…³é—­ usercenter ç¨‹åº
start usercenter  # å¯åŠ¨ usercenter ç¨‹åº
restart usercenter    # é‡å¯ usercenter ç¨‹åº
reread    ï¼ƒ è¯»å–æœ‰æ›´æ–°ï¼ˆå¢åŠ ï¼‰çš„é…ç½®æ–‡ä»¶ï¼Œä¸ä¼šå¯åŠ¨æ–°æ·»åŠ çš„ç¨‹åº
update    ï¼ƒ é‡å¯é…ç½®æ–‡ä»¶ä¿®æ”¹è¿‡çš„ç¨‹åº
</code></pre><ol start="5">
<li>å‚è€ƒï¼š
<a href="http://supervisord.org/configuration.html">http://supervisord.org/configuration.html</a></li>
</ol>
<p><a href="http://liyangliang.me/posts/2015/06/using-supervisor">http://liyangliang.me/posts/2015/06/using-supervisor</a></p>
<p><a href="http://lixcto.blog.51cto.com/4834175/1539136">http://lixcto.blog.51cto.com/4834175/1539136</a></p>

    </div>
  </article>
<section id="comments">
</section>

</div><nav class="bar bar-footer clearfix" data-stick-bottom>
    <div class="bar-inner">
        <ul class="pager pull-left">
            <li class="prev">
                <a href="https://blog.fengjx.com/how-to-ask-questions-the-smart-way/" title="æé—®çš„æ™ºæ…§"><i
                        class="icon icon-angle-left"
                        aria-hidden="true"></i><span>&nbsp;&nbsp;ä¸Šä¸€ç¯‡</span></a>
            </li>
            <li class="next">
                <a href="https://blog.fengjx.com/ffmpeg-merge-video/"
                    title="ffmpegåˆå¹¶è§†é¢‘æ–‡ä»¶"><span>ä¸‹ä¸€ç¯‡&nbsp;&nbsp;</span><i
                        class="icon icon-angle-right" aria-hidden="true"></i></a>
            </li>
            
            <li class="toggle-toc">
                <a class="toggle-btn collapsed" data-toggle="collapse" href="#collapseToc" aria-expanded="false"
                    title="æ–‡ç« ç›®å½•" role="button">
                    <span>[&nbsp;</span><span>æ–‡ç« ç›®å½•</span>
                    <i class="text-collapsed icon icon-anchor"></i>
                    <i class="text-in icon icon-close"></i>
                    <span>]</span>
                </a>
            </li>
        </ul>
        <div class="bar-right">
            <div class="share-component" data-sites="weibo,qq,wechat"
                data-mobile-sites="weibo,qq,qzone"></div>
        </div>
    </div>
</nav>
</main><footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
<ul class="social-links">
    <li><a href="https://github.com/fengjx" target="_blank" title="github" data-toggle=tooltip data-placement=top >
            <i class="icon icon-github"></i></a></li>
    <li><a href="https://blog.fengjx.com/index.xml" target="_blank" title="rss" data-toggle=tooltip data-placement=top >
            <i class="icon icon-rss"></i></a></li>
</ul>
  <div class="copyright">
    &copy;2016  -
    2020
    <div class="publishby">
        Theme by <a href="https://github.com/xiaoheiAh" target="_blank"> xiaoheiAh </a>base on<a href="https://github.com/xiaoheiAh/hugo-theme-pure" target="_blank"> pure</a>.
    </div>
  </div>
</footer>
<script src="https://cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
   window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/highlight.min.js"></script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/languages/rust.min.js"></script>
<script type="text/javascript"
   src="https://cdn.staticfile.org/highlight.js/9.15.10/languages/dockerfile.min.js"></script>
<script>
hljs.configure({
  tabReplace: '    ', 
  classPrefix: ''     
                      
})
hljs.initHighlightingOnLoad();
</script>
<script type="text/javascript" src="https://blog.fengjx.com/js/application.js"></script>
<script type="text/javascript" src="https://blog.fengjx.com/js/plugin.js"></script>
<script>
      (function (window) {
          var INSIGHT_CONFIG = {
              TRANSLATION: {
                  POSTS: 'æ–‡ç« ',
                  PAGES: 'é¡µé¢',
                  CATEGORIES: 'åˆ†ç±»',
                  TAGS: 'æ ‡ç­¾',
                  UNTITLED: '(æœªå‘½å)',
              },
              ROOT_URL: 'https:\/\/blog.fengjx.com\/',
              CONTENT_URL: 'https:\/\/blog.fengjx.com\/searchindex.json ',
          };
          window.INSIGHT_CONFIG = INSIGHT_CONFIG;
      })(window);
      </script>
<script type="text/javascript" src="https://blog.fengjx.com/js/insight.js"></script>


<script src="https://cdn.jsdelivr.net/npm/gitalk@1.4.0/dist/gitalk.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.10.0/js/md5.min.js"></script>
<script type="text/javascript">
    var gitalk = new Gitalk({
        clientID: 'f49d3c3d06c237042f7d',
        clientSecret: 'b4ee0f2b6fc1fa9420ab32f3eedebcb352824f4f',
        repo: 'blog.fengjx.com-comment',
        owner: 'fengjx',
        admin: ['fengjx'],
        id: md5(location.pathname),
        distractionFreeMode: true
    });
    gitalk.render('comments');
</script>
<script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?f6a47084e6751918976e30132a5e7a5e";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
</script>
  </body>
</html>
